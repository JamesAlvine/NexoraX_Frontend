<!-- user-create.html -->
<div class="create-user-container">
  <h1>Add New User</h1>
  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="user-form">
    <div class="form-group">
      <label>Email *</label>
      <input formControlName="email" type="email" placeholder="user@ngo.org" />
    </div>
    <div class="form-group">
      <label>Password *</label>
      <input formControlName="password" type="password" placeholder="Minimum 8 characters" />
    </div>
    <div class="form-group checkbox-group">
      <label>
        <input type="checkbox" formControlName="is_super_admin" />
        Super Admin
      </label>
    </div>
    <div class="form-group">
      <label>Assign to Modules:</label>
      @for (app of apps; track app) {
        <label class="app-checkbox">
          <input
            type="checkbox"
            [checked]="isAppSelected(app)"
            (change)="toggleApp(app, $event)"
          />
          {{ app }}
        </label>
      }
    </div>
    <button type="submit" [disabled]="isLoading" class="btn-primary">
      {{ isLoading ? 'Creating...' : 'Create User' }}
    </button>
    @if (message) {
      <div class="alert">{{ message }}</div>
    }
  </form>
</div>